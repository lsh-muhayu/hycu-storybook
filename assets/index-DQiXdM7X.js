import{r as n,d as b}from"./iframe-BlqbFFl9.js";import{u as v}from"./index-Bh2f914L.js";var h=b[" useInsertionEffect ".trim().toString()]||v;function E({prop:e,defaultProp:o,onChange:t=()=>{},caller:u}){const[s,i,f]=S({defaultProp:o,onChange:t}),r=e!==void 0,l=r?e:s;{const c=n.useRef(e!==void 0);n.useEffect(()=>{const d=c.current;d!==r&&console.warn(`${u} is changing from ${d?"controlled":"uncontrolled"} to ${r?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=r},[r,u])}const a=n.useCallback(c=>{if(r){const d=z(c)?c(e):c;d!==e&&f.current?.(d)}else i(c)},[r,e,i,f]);return[l,a]}function S({defaultProp:e,onChange:o}){const[t,u]=n.useState(e),s=n.useRef(t),i=n.useRef(o);return h(()=>{i.current=o},[o]),n.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,u,i]}function z(e){return typeof e=="function"}function m(e){const o=n.useRef({value:e,previous:e});return n.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}function C(e){const[o,t]=n.useState(void 0);return v(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const u=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let f,r;if("borderBoxSize"in i){const l=i.borderBoxSize,a=Array.isArray(l)?l[0]:l;f=a.inlineSize,r=a.blockSize}else f=e.offsetWidth,r=e.offsetHeight;t({width:f,height:r})});return u.observe(e,{box:"border-box"}),()=>u.unobserve(e)}else t(void 0)},[e]),o}export{m as a,C as b,E as u};
