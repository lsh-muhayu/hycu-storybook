import{r as n,a as h}from"./iframe-C9qNL7s6.js";import{h as v}from"./index-D-YAdcD0.js";var b=h[" useInsertionEffect ".trim().toString()]||v;function E({prop:e,defaultProp:o,onChange:t=()=>{},caller:c}){const[s,i,f]=S({defaultProp:o,onChange:t}),r=e!==void 0,l=r?e:s;{const u=n.useRef(e!==void 0);n.useEffect(()=>{const a=u.current;a!==r&&console.warn(`${c} is changing from ${a?"controlled":"uncontrolled"} to ${r?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=r},[r,c])}const d=n.useCallback(u=>{if(r){const a=z(u)?u(e):u;a!==e&&f.current?.(a)}else i(u)},[r,e,i,f]);return[l,d]}function S({defaultProp:e,onChange:o}){const[t,c]=n.useState(e),s=n.useRef(t),i=n.useRef(o);return b(()=>{i.current=o},[o]),n.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,c,i]}function z(e){return typeof e=="function"}function m(e){const o=n.useRef({value:e,previous:e});return n.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}function C(e){const[o,t]=n.useState(void 0);return v(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const c=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let f,r;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;f=d.inlineSize,r=d.blockSize}else f=e.offsetWidth,r=e.offsetHeight;t({width:f,height:r})});return c.observe(e,{box:"border-box"}),()=>c.unobserve(e)}else t(void 0)},[e]),o}export{m as a,C as b,E as u};
